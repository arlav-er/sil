<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:cc="http://java.sun.com/jsf/composite/components">
<ui:fragment rendered="#{visCvBean.cvVisualizzaDTO.testataVisible}">
	<h3 class="dati_anagrafici_titolo headingCollapse ui-accordion-header ui-helper-reset ui-state-default ui-corner-all">
		<span class="dati_anagrafici_brake_titolo ui-icon ui-icon-triangle-1-e"></span>
		<a href="#">Dati Anagrafici</a>
	</h3>
	
	<div class="contentCollapse ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom">
		<ui:fragment rendered="#{empty visCvBean.cvVisualizzaDTO.cvDatiPersonaliDTO}">
			<p>Nessun elemento inserito</p>
		</ui:fragment>
		
		<ui:fragment rendered="#{not empty visCvBean.cvVisualizzaDTO.cvDatiPersonaliDTO}">
			<table style="border-spacing: 10px;">
				<tr>
					<td style="width: 25%"></td>
					<td style="width: 25%"></td>
					<td style="width: 25%"></td>
					<td style="width: 25%"></td>
				</tr>
				<tr>
					<ui:fragment rendered="#{not empty visCvBean.cvVisualizzaDTO.nome}">
						<td>
							<label>Nome</label><br />
							#{visCvBean.cvVisualizzaDTO.nome}
						</td>
					</ui:fragment>
					<ui:fragment rendered="#{not empty visCvBean.cvVisualizzaDTO.cognome}">
						<td>
							<label>Cognome</label><br />
							#{visCvBean.cvVisualizzaDTO.cognome}
						</td>
					</ui:fragment>
					<ui:fragment rendered="#{not empty visCvBean.cvVisualizzaDTO.cvDatiPersonaliDTO.titolo}">
						<td>
							<label>Figura professionale</label><br />
							#{visCvBean.cvVisualizzaDTO.cvDatiPersonaliDTO.titolo}
						</td>
					</ui:fragment>
				</tr>
				<tr>
					<ui:fragment rendered="#{not empty visCvBean.cvVisualizzaDTO.cvDatiPersonaliDTO.dtNascita}">
						<td>
							<label>Data di nascita</label><br />
							<h:outputText value="#{visCvBean.cvVisualizzaDTO.cvDatiPersonaliDTO.dtNascita}">
								<f:convertDateTime pattern="dd/MM/yyyy" type="date" />
							</h:outputText>
						</td>
					</ui:fragment>
					<ui:fragment rendered="#{not empty visCvBean.cvVisualizzaDTO.cvDatiPersonaliDTO.strComNascita}">
						<td>
							<label>Comune o stato di nascita</label><br />
							#{visCvBean.cvVisualizzaDTO.cvDatiPersonaliDTO.strComNascita}
						</td>
					</ui:fragment>
					<ui:fragment rendered="#{not empty visCvBean.cvVisualizzaDTO.cvDatiPersonaliDTO.strComDomicilio}">
						<td>
							<label>Comune di domicilio</label><br />
							#{visCvBean.cvVisualizzaDTO.cvDatiPersonaliDTO.strComDomicilio}
						</td>
					</ui:fragment>
					<ui:fragment rendered="#{not empty visCvBean.cvVisualizzaDTO.cvDatiPersonaliDTO.indirizzoDomicilio}">
						<td>
							<label>Indirizzo di domicilio</label><br />
							#{visCvBean.cvVisualizzaDTO.cvDatiPersonaliDTO.indirizzoDomicilio}
						</td>
					</ui:fragment>
				</tr>
				<tr>
					<ui:fragment rendered="#{not empty visCvBean.cvVisualizzaDTO.cvDatiPersonaliDTO.email}">
						<td>
							<label>E-mail</label><br />
							#{visCvBean.cvVisualizzaDTO.cvDatiPersonaliDTO.email}
						</td>
					</ui:fragment>
					<ui:fragment rendered="#{not empty visCvBean.cvVisualizzaDTO.cvDatiPersonaliDTO.tel1}">
						<td>
							<label>Telefono</label><br />
							#{visCvBean.cvVisualizzaDTO.cvDatiPersonaliDTO.tel1}
						</td>
					</ui:fragment>
					<ui:fragment rendered="#{not empty visCvBean.cvVisualizzaDTO.cvDatiPersonaliDTO.tel2}">
						<td>
							<label>Cellulare</label><br />
							#{visCvBean.cvVisualizzaDTO.cvDatiPersonaliDTO.tel2}
						</td>
					</ui:fragment>
					<ui:fragment rendered="#{not empty visCvBean.cvVisualizzaDTO.cvDatiPersonaliDTO.fax}">
						<td>
							<label>Fax</label><br />
							#{visCvBean.cvVisualizzaDTO.cvDatiPersonaliDTO.fax}
						</td>
					</ui:fragment>
				</tr>
				<tr>
					<ui:fragment rendered="#{not empty visCvBean.cvVisualizzaDTO.cvDatiPersonaliDTO.descrizioneCv}">
						<td>
							<label>Descrizione</label><br />
							#{visCvBean.cvVisualizzaDTO.cvDatiPersonaliDTO.descrizioneCv}
						</td>
					</ui:fragment>
				</tr>
				<tr>
					<ui:fragment rendered="#{(visCvBean.cvVisualizzaDTO.cvDatiPersonaliDTO.provenienzaCurriculum.id == 'MYPORTAL' 
						and visCvBean.cvVisualizzaDTO.cvDatiPersonaliDTO.idPfPrincipal == sessionBean.connectedUtente.pfPrincipalDTO.id) 
						or visCvBean.visualizzaRicercabilita}">
						<td>
							<label>Visibile alle aziende</label><br />
							#{visCvBean.cvVisualizzaDTO.cvDatiPersonaliDTO.ricercabile ? 'Si' : 'No'}
						</td>
					</ui:fragment>
					<ui:fragment rendered="#{const['regione.cod']==22}">
						<td>
							<label>CV inviato a Cliclavoro</label><br />
							#{visCvBean.cvVisualizzaDTO.sincronizzatoCliclavoro ? 'Si' : 'No'}
						</td>
					</ui:fragment>
					<ui:fragment rendered="#{not empty visCvBean.cvVisualizzaDTO.cvDatiPersonaliDTO.filename}">
						<td>
							<label>Allegato</label><br />
							<h:outputLink
								onclick="fetchStampa('#{request.contextPath}/secure/rest/services/getAllegatoCv?idCvAllegato='+#{visCvBean.cvVisualizzaDTO.cvDatiPersonaliDTO.idCvAllegato});return false;"
								title="#{visCvBean.cvVisualizzaDTO.cvDatiPersonaliDTO.filename}"
								rendered="#{not empty visCvBean.cvVisualizzaDTO.cvDatiPersonaliDTO.filename}">
								<h:outputText
									value="#{visCvBean.cvVisualizzaDTO.cvDatiPersonaliDTO.filename}" />
							</h:outputLink>
						</td>
					</ui:fragment>
				</tr>
			</table>
		</ui:fragment>
		<ui:fragment rendered="#{sessionBean.azienda and not empty visCvBean.idAcCandidatura}">
			<h:form>
				<h:panelGrid columns="2">
					<cc:selectOneMenu id="valutazione"
						label="Valuta curriculum vitae" value="#{visCvBean.codIdoneitaCandidatura}">
						<f:selectItems value="#{visCvBean.livelliValutazione}" />
					</cc:selectOneMenu>
                   <ui:fragment rendered="#{ !(utilsBean.isStaticRER() and (visCvBean.cvVisualizzaDTO.cvDatiPersonaliDTO.flgIdo == null or visCvBean.cvVisualizzaDTO.cvDatiPersonaliDTO.flgIdo == false)) }">
					<h:commandLink styleClass="buttonStyle" action="#{visCvBean.assegnaValutazione}"
						value="Assegna valutazione">
						<f:ajax execute="@form" render=":valutazione_messages_new" />
					</h:commandLink>
					</ui:fragment>
				</h:panelGrid>
			</h:form>
			
			<cc:messages id="valutazione_messages_new" />
		</ui:fragment>
	</div>
</ui:fragment>
</ui:composition>
