<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:p="http://primefaces.org/ui">
	<div class="modal fade sendEmail-modal" id="sendEmail-modal" tabindex="-1" role="dialog"
		aria-labelledby="sendEmail-modal" data-keyboard="false" data-backdrop="static">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&#215;</span>
					</button>
					<h4 class="modal-title">Invia Messaggio</h4>
				</div>
				<h:form id="sendEmailForm" styleClass="form-horizontal" enctype="multipart/form-data">
					<h:panelGroup id="sendEmailGroup">
						<div class="modal-body ">
							<div class="row">
								<div class="col-md-12">
									<div class="text-center m-b-20">
										<h4>Scrivi il tuo messaggio</h4>
									</div>
									<div class="form-group">
										<p:outputLabel for="oggetto" value="Oggetto" styleClass="col-md-3 control-label"></p:outputLabel>
										<div class="col-md-9">
											<p:inputText id="oggetto" value="#{visualizzaListaCandidatureVacancyBean.messageTitle}"
												styleClass="form-control" required="true"></p:inputText>
											<p:message id="oggettoMessage" for="oggetto"></p:message>
										</div>
									</div>
									<div class="form-group">
										<p:outputLabel for="messaggio" value="Messaggio" styleClass="col-md-3 control-label"></p:outputLabel>
										<div class="col-md-9">
											<p:inputTextarea id="messaggio" value="#{visualizzaListaCandidatureVacancyBean.messageBody}"
												styleClass="form-control" maxlength="2000" label="Messaggio" rows="3" cols="100" style="width:100%"
												required="true">
												<f:validateLength maximum="2000" />
											</p:inputTextarea>
											<p:message id="messaggioMessage" for="messaggio"></p:message>
										</div>
									</div>

									<div class="sendEmail-error alert alert-danger hidden">
										<strong>Errore invio mail!</strong>
										Impossibile inviare la mail.
									</div>

								</div>
							</div>

						</div>
						<div class="modal-footer">
							<p:commandLink id="invia" actionListener="#{visualizzaListaCandidatureVacancyBean.sendEmail}"
								update="@(.ui-message)" styleClass="btn btn-primary btn-search contatt-dattore-lavoro"
								onclick="buttonToDisable = MyPortal.enableLoadingButton(this)"
								oncomplete="MyPortal.disableLoadingButton(this); MyPortal.CandidatureList.sendEmailOnComplete(args);"
								title="Invia">
								<i class="fa fa-paper-plane" aria-hidden="true"></i>
                                Invia
                            </p:commandLink>
						</div>

					</h:panelGroup>
			        <p:remoteCommand name="refresh" actionListener="#{visualizzaListaCandidatureVacancyBean.refresh}" process="@this"></p:remoteCommand>
				</h:form>


			</div>
		</div>
	</div>
</ui:composition>
