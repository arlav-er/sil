<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:cc="http://java.sun.com/jsf/composite/components">

	<h3 id="dati_vacancy_titolo" aria-controls="dati_vacancy_content"
		class="headingCollapse ui-accordion-header ui-helper-reset ui-state-default ui-corner-all">
		<span id="dati_vacancy_brake_titolo"
			class="ui-icon ui-icon-triangle-1-e" /> <a href="#">#{visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.attivitaPrincipale}</a>
	</h3>

	<div id="dati_vacancy_content"
		class="contentCollapse ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom">
		<h:outputText value="Nessun elemento inserito"
			rendered="#{empty visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO}" />
		<div style="width: 70%; float: left">
			<h:panelGroup layout="block">

				<h:outputText id="scad" value="L'offerta di lavoro risulta scaduta."
					styleClass="loginErrato" rendered="#{visVaBean.vacancyScaduta}" />
				<br />
				<h:outputText id="dati_vacancy"
					value="Dati Offerta di lavoro (#{visVaBean.numCandidature} Candidature ricevute)" />

				<h:panelGrid id="dati_vacancy_panel_rag_soc" columns="2" rendered="#{visVaBean.vaVisualizzaDTO.mostraContattoPrincipale || visVaBean.vaVisualizzaDTO.mostraContattoAlternativo}"
					columnClasses="visualizza_left,visualizza_right">
					<h:outputLabel
						rendered="#{not empty visVaBean.vaVisualizzaDTO.idSvAziendaInfo and not empty visVaBean.vaVisualizzaDTO.ragioneSociale}"
						for="ragione_sociale_link" value="Ragione sociale" />
					<h:link
						rendered="#{not empty visVaBean.vaVisualizzaDTO.idSvAziendaInfo and not empty visVaBean.vaVisualizzaDTO.ragioneSociale}"
						outcome="/secure/azienda/vetrina/view_new.xhtml"
						title="Visualizza vetrina">
						<h:outputText id="ragione_sociale_link"
							value="#{visVaBean.vaVisualizzaDTO.ragioneSociale}" />
						<f:param name="id"
							value="#{visVaBean.vaVisualizzaDTO.idSvAziendaInfo}" />
					</h:link>
					
					<h:outputLabel
						rendered="#{empty visVaBean.vaVisualizzaDTO.idSvAziendaInfo and not empty visVaBean.vaVisualizzaDTO.ragioneSociale}"
						for="ragione_sociale_no_link" value="Ragione sociale" />
					<h:outputText
						rendered="#{empty visVaBean.vaVisualizzaDTO.idSvAziendaInfo and not empty visVaBean.vaVisualizzaDTO.ragioneSociale}"
						id="ragione_sociale_no_link"
						value="#{visVaBean.vaVisualizzaDTO.ragioneSociale}" />
					
				</h:panelGrid>
				<h:panelGrid id="dati_vacancy_panel" columns="2"
					columnClasses="visualizza_left,visualizza_right">


					<h:outputLabel for="attivita_principale"
						rendered="#{not empty visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.attivitaPrincipale}"
						value="Profilo richiesto" />
					<h:outputText id="attivita_principale"
						rendered="#{not empty visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.attivitaPrincipale}"
						value="#{visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.attivitaPrincipale}" />

					<h:outputLabel for="mansione"
						rendered="#{not empty visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.strMansione}"
						value="Gruppo professionale" />
					<h:outputText id="mansione"
						rendered="#{not empty visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.strMansione}"
						value="#{visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.strMansione}" />

					<h:outputLabel for="mansione_min"
						rendered="#{not empty visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.mansioneMin.descrizione}"
						value="Qualifica richiesta" />
					<h:outputText id="mansione_min"
						rendered="#{not empty visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.mansioneMin.descrizione}"
						value="#{visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.mansioneMin.descrizione}" />

					<h:outputLabel for="descrizione_vacancy"
						rendered="#{not empty visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.descrizione}"
						value="Descrizione" />
					<h:outputText id="descrizione_vacancy"
						rendered="#{not empty visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.descrizione}"
						value="#{visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.descrizione}"
						escape="false" />

					<h:outputLabel for="esperienzaRichiesta"
						value="Esperienza Richiesta" />
					<h:outputText id="esperienzaRichiesta"
						value="#{visVaBean.getEsperienzaRichiestaDesc()}" />
				</h:panelGrid>
				<h:panelGrid id="dati_vacancy_panel_comune_indiriz_lavoro" columns="2"
					rendered="#{visVaBean.vaVisualizzaDTO.mostraContattoPrincipale || visVaBean.vaVisualizzaDTO.mostraContattoAlternativo}"
					columnClasses="visualizza_left,visualizza_right">
					<h:outputLabel for="comune_lavoro"
						rendered="#{not empty visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.strComLavoro}"
						value="Comune di lavoro" />
					<h:outputText id="comune_lavoro"
						rendered="#{not empty visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.strComLavoro}"
						value="#{visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.strComLavoro}" />

					<h:outputLabel for="indirizzo_lavoro"
						rendered="#{not empty visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.indirizzoLavoro}"
						value="Indirizzo di lavoro" />
					<h:outputText id="indirizzo_lavoro"
						rendered="#{not empty visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.indirizzoLavoro}"
						value="#{visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.indirizzoLavoro}" />

				</h:panelGrid>
				<h:panelGrid id="dati_vacancy_panel_attivita" columns="2"
				columnClasses="visualizza_left,visualizza_right">
					<h:outputLabel for="attivita"
						rendered="#{not empty visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.strAteco}"
						value="Settore dell’azienda" />
					<h:outputText id="attivita"
						rendered="#{not empty visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.strAteco}"
						value="#{visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.strAteco}" />

					<h:outputLabel for="attivita_min"
						rendered="#{not empty visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.attivitaMin.descrizione}"
						value="Attività ATECO" />
					<h:outputText id="attivita_min"
						rendered="#{not empty visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.attivitaMin.descrizione}"
						value="#{visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.attivitaMin.descrizione}" />

					<h:outputLabel for="numero_lavoratori"
						rendered="#{not empty visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.numeroLavoratoriRicercati}"
						value="Numero di lavoratori ricercati" />
					<h:outputText id="numero_lavoratori"
						rendered="#{not empty visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.numeroLavoratoriRicercati}"
						value="#{visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.numeroLavoratoriRicercati}" />

					<h:outputLabel for="dataPubblicazione"
						rendered="#{not empty visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.dataPubblicazione}"
						value="Data pubblicazione" />
					<h:outputText id="dataPubblicazione"
						rendered="#{not empty visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.dataPubblicazione}"
						value="#{visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.dataPubblicazione}">
						<f:convertDateTime pattern="dd/MM/yyyy" type="date" />
					</h:outputText>

					<h:outputLabel for="dataScadenza"
						rendered="#{not empty visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.scadenzaPubblicazione}"
						value="Data scadenza" />
					<h:outputText id="dataScadenza"
						rendered="#{not empty visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.scadenzaPubblicazione}"
						value="#{visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.scadenzaPubblicazione}">
						<f:convertDateTime pattern="dd/MM/yyyy" type="date" />
					</h:outputText>

					<h:outputLabel for="dataAggiornamento"
						rendered="#{not empty visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.dataAggiornamento}"
						value="Data aggiornamento" />
					<h:outputText id="dataAggiornamento"
						rendered="#{not empty visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.dataAggiornamento}"
						value="#{visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.dataAggiornamento}">
						<f:convertDateTime pattern="dd/MM/yyyy" type="date" />
					</h:outputText>

					<h:outputLabel for="riferimento" value="Riferimento" />
					<h:outputText id="riferimento"
						value="#{visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.numeroRichiesta}/#{visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.anno} 
						#{visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.deProvenienzaVacancyDTO.descrizione}"
						rendered="#{visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.deProvenienzaVacancySILDTO == null}" />
					<h:outputText id="riferimento_sil"
						value="#{visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.numeroRichiesta}/#{visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.anno} 
						#{visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.deProvenienzaVacancyDTO.descrizione} (ex #{visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.numeroRichiestaSIL}/#{visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.annoSIL} 
						#{visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.deProvenienzaVacancySILDTO.descrizione})"
						rendered="#{visVaBean.vaVisualizzaDTO.vaDatiVacancyDTO.deProvenienzaVacancySILDTO != null}" />
				</h:panelGrid>
			</h:panelGroup>
		</div>

		<br /> <br />
		
	<div id="mapPlace" style="display: none">
			<div id="mappa_vacancy" class="mapPoi"></div>
			<script type="text/javascript">
				$( window ).load(function() {
						var maps={};
						maps.lat = "#{visVaBean.mapLat}";
						maps.lng = "#{visVaBean.mapLon}";
						maps.zoom = "#{visVaBean.mapZoom}";
						window.loadOnePoiOpenStreetMap('mappa_vacancy', 'mapPlace', maps);
				});
			</script>	
	   </div>
	
	
		</div>
</ui:composition>