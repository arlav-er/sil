<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core" xmlns:p="http://primefaces.org/ui" xmlns:o="http://omnifaces.org/ui">
	<p:dialog id="changePasswordDlg" widgetVar="changePasswordDlgWV" modal="true" header="#{ui['prof.changePassword']}" height="340"
		width="600" dynamic="true">
		<h:form id="changePasswordForm">
			<div class="row">

				<table class="table table-condensed table-hover">
					<tbody>
						<tr>
							<td class="text-muted"><p:outputLabel value="#{ui['prof.oldPassword']}" styleClass="col-lg-2 control-label" for="oldPassword" /></td>
							<td><p:password id="oldPassword" required="true" label="#{ui['prof.oldPassword']}" styleClass="form-control" maxlength="32"
									validator="#{utenteEditBean.checkOldPasswordValidator}" autocomplete="off">
									<o:validator validatorId="javax.faces.RegularExpression" pattern="#{validation['pattern.password']}"
										message="#{validation['message.password']}" />
								</p:password> <p:message id="oldPasswordMessage" for="oldPassword"></p:message></td>
						</tr>
						<tr>
							<td class="text-muted"><p:outputLabel value="#{ui['changeP.newPassword']}" styleClass="col-lg-2 control-label" for="password" /></td>
							<td><p:password id="password" match="passwordRepeat" required="true" label="Password" styleClass="form-control" maxlength="32"
									autocomplete="off">
									<o:validator validatorId="javax.faces.RegularExpression" pattern="#{validation['pattern.password']}"
										message="#{validation['message.password']}" />
								</p:password> <p:message id="passwordMessage" for="password"></p:message></td>
						</tr>
						<tr>
							<td class="text-muted"><p:outputLabel value="#{ui['shared.confirmPassword']}" styleClass="col-lg-2 control-label"
									for="passwordRepeat" /></td>
							<td><p:password id="passwordRepeat" value="#{utenteEditBean.utenteInfo.pfPrincipal.passWord}" required="true"
									label="#{ui['shared.repeatPassword']}" styleClass="form-control" maxlength="32" autocomplete="off">
									<o:validator validatorId="javax.faces.RegularExpression" pattern="#{validation['pattern.password']}"
										message="#{validation['message.password']}" />
								</p:password> <p:message id="repeatPasswordMessage" for="passwordRepeat"></p:message></td>
						</tr>

					</tbody>
				</table>
				<div class="well text-center">
					<p:commandButton value="#{ui['prof.changePassword']}" styleClass="btn btn-primary" update="@(.ui-message)"
						actionListener="#{utenteEditBean.changePassword}" onclick="PF('changePSBtnWV').disable()" widgetVar="changePSBtnWV"
						oncomplete="PF('changePSBtnWV').enable(); if (args &amp;&amp; !args.validationFailed) { PF('changePasswordDlgWV').hide(); sucessMessage('#{ui['msg.updated']}')}"></p:commandButton>
				</div>
			</div>
		</h:form>
	</p:dialog>
</ui:composition>